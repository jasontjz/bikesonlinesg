(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{171:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(14),s=a.n(r),n=a(8),o=a(6),i=a(5),l=a(7),d=a.n(l),j=a(12),u=a(15),b=a.n(u),m="LOGIN_REQUEST",p="LOGIN_SUCCESS",O="LOGIN_FAIL",h="REGISTER_USER_REQUEST",f="REGISTER_USER_SUCCESS",x="REGISTER_USER_FAIL",g="LOAD_USER_REQUEST",v="LOAD_USER_SUCCESS",y="LOAD_USER_FAIL",N="UPDATE_PROFILE_REQUEST",w="UPDATE_PROFILE_SUCCESS",_="UPDATE_PROFILE_RESET",S="UPDATE_PROFILE_FAIL",E="UPDATE_PPASSWORD_REQUEST",C="UPDATE_PASSWORD_SUCCESS",P="UPDATE_PASSWORD_RESET",k="UPDATE_PASSWORD_FAIL",R="FORGOT_PASSWORD_REQUEST",A="FORGOT_PASSWORD_SUCCESS",T="FORGOT_PASSWORD_FAIL",D="NEW_PASSWORD_REQUEST",I="NEW_PASSWORD_SUCCESS",F="NEW_PASSWORD_FAIL",U="LOGOUT_SUCCESS",L="LOGOUT_FAIL",W="CLEAR_ERRORS",G=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,b.a.get("/api/v1/me");case 4:a=e.sent,c=a.data,t({type:v,payload:c.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:y,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r,s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:D}),r={headers:{"Content-Type":"application/json"}},a.next=5,b.a.put("/api/v1/password/reset/".concat(e),t,r);case 5:s=a.sent,n=s.data,c({type:I,payload:n.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c({type:F,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},M=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:W});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=a(3),q=a(1),$=function(e){e.history;var t=Object(o.g)(),a=Object(c.useState)(""),r=Object(Q.a)(a,2),s=r[0],n=r[1];return Object(q.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()?t("/search/".concat(s)):t("/")},children:Object(q.jsxs)("div",{className:"input-group",children:[Object(q.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Search for your product...",onChange:function(e){return n(e.target.value)}}),Object(q.jsx)("div",{className:"input-group-append",children:Object(q.jsx)("button",{id:"search_btn",className:"btn",children:Object(q.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},J=(a(98),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),a=t.user,c=(t.loading,Object(i.c)((function(e){return e.cart})).cartItems);return Object(q.jsx)("div",{id:"sticky-navbar",children:Object(q.jsxs)("nav",{className:"navbar row",children:[Object(q.jsx)("div",{className:"col-12 col-md-3",children:Object(q.jsx)("div",{className:"navbar-brand",children:Object(q.jsx)(n.b,{to:"/",children:Object(q.jsx)("img",{id:"logo-header",src:"/images/logo_bosg_header.png"})})})}),Object(q.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(q.jsx)($,{})}),Object(q.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(q.jsxs)(n.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(q.jsxs)("span",{id:"cart",className:"ml-3",children:[Object(q.jsx)("i",{className:"fa fa-shopping-cart mr-2","aria-hidden":"true"}),"Cart"]}),Object(q.jsx)("span",{className:"ml-1",id:"cart_count",children:c.reduce((function(e,t){return e+Number(t.quantity)}),0)})]}),a?Object(q.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(q.jsx)(n.b,{to:"/",className:"btn dropdown-toggle text-black mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(q.jsxs)("span",{children:["Welcome, ",a&&a.name,"!"]})}),Object(q.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"!==a.role?Object(q.jsx)(n.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}):Object(q.jsx)("div",{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(q.jsx)(n.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(q.jsx)(n.b,{className:"dropdown-item ",to:"/",onClick:function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,b.a.get("/api/v1/logout");case 4:t({type:U}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:L,payload:e.t0.response.data.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),alert.success("Logged out")},children:"Logout"})]})]}):Object(q.jsxs)(n.b,{to:"/login",className:"btn",id:"login_btn",children:[Object(q.jsx)("i",{className:"fa fa-user mr-2","aria-hidden":"true"}),"Login"]})]})]})})}),Y=function(){return Object(q.jsx)(c.Fragment,{children:Object(q.jsx)("footer",{className:"py-1",children:Object(q.jsx)("p",{className:"text-center mt-1",children:"Bikes Online SG Pte Ltd - 2021-2022, All Rights Reserved"})})})},V=a(60),H=a.n(V),z=a(38),K=(a(170),a(64)),X=function(e){var t=e.title;return Object(q.jsx)(K.a,{children:Object(q.jsx)("title",{children:"".concat(t," at Bikes Online SG")})})},Z=function(e){var t=e.product,a=e.col;return Object(q.jsx)("div",{className:" col-sm-12 col-md-6 col-lg-".concat(a," my-3"),children:Object(q.jsxs)("div",{className:"card p-3 rounded",children:[Object(q.jsx)(n.b,{to:"/product/".concat(t._id),children:Object(q.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:"product"})}),Object(q.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(q.jsx)("h5",{className:"card-title",children:Object(q.jsx)(n.b,{to:"/product/".concat(t._id),children:t.name})}),Object(q.jsxs)("div",{className:"ratings mt-auto",children:[Object(q.jsx)("div",{className:"rating-outer",children:Object(q.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(q.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews,")"]})]}),Object(q.jsxs)("p",{className:"card-text",children:["$",t.price]})]})]})},t._id)},ee=function(){return Object(q.jsx)("div",{className:"loader"})},te="ALL_PRODUCTS_REQUEST",ae="ALL_PRODUCTS_SUCCESS",ce="ALL_PRODUCTS_FAIL",re="PRODUCT_DETAILS_REQUEST",se="PRODUCT_DETAILS_SUCCESS",ne="PRODUCT_DETAILS_FAIL",oe="CLEAR_ERRORS",ie=(0,z.a.createSliderWithTooltip)(z.a.Range),le=function(){var e=Object(o.h)(),t=Object(c.useState)(1),a=Object(Q.a)(t,2),r=a[0],s=a[1],n=Object(c.useState)([1,1999]),l=Object(Q.a)(n,2),u=l[0],m=l[1],p=Object(c.useState)(0),O=Object(Q.a)(p,2),h=O[0],f=O[1],x=Object(c.useState)(""),g=Object(Q.a)(x,2),v=g[0],y=g[1],N=Object(i.b)(),w=Object(i.c)((function(e){return e.products})),_=w.loading,S=w.products,E=w.error,C=w.productsCount,P=w.resPerPage,k=w.filteredProductsCount,R=e.keyword;Object(c.useEffect)((function(){if(E)return alert.error(E);N(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(j.a)(d.a.mark((function s(n){var o,i,l;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:te}),o="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&ratings[gte]=").concat(r),c&&(o="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&category=").concat(c,"&ratings[gte]=").concat(r)),s.next=6,b.a.get(o);case 6:i=s.sent,l=i.data,n({type:ae,payload:l}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:ce,payload:s.t0.response.data.message});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(R,r,u,v,h))}),[N,E,R,r,u,v,h]);var A=C;return R&&(A=k),Object(q.jsx)(c.Fragment,{children:_?Object(q.jsx)(ee,{}):Object(q.jsxs)(c.Fragment,{children:[Object(q.jsx)(X,{title:"Buy bikes and accessories online in Singapore"}),Object(q.jsx)("h3",{id:"products_heading",children:"Welcome to Bikes Online SG"}),Object(q.jsx)("section",{id:"products",className:"container mt-5",children:Object(q.jsx)("div",{className:"row",children:R?Object(q.jsxs)(c.Fragment,{children:[Object(q.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(q.jsxs)("div",{className:"px-5",children:[Object(q.jsx)(ie,{marks:{1:"$1",1999:"$1999"},min:1,max:1999,defaultValue:[1,1999],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return m(e)}}),Object(q.jsx)("hr",{className:"my-5"}),Object(q.jsxs)("div",{className:"mt-5",children:[Object(q.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(q.jsx)("ul",{className:"pl-0",children:["Bikes","Bike Accessories","Cycling Apparel","Cycling Footwear","Bike Spare Parts","Bike Helmets","Cycling Protection","Nutrition"].map((function(e){return Object(q.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return y(e)},children:e},{category:e})}))})]}),Object(q.jsx)("hr",{className:"my-3"}),Object(q.jsxs)("div",{className:"mt-5",children:[Object(q.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(q.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(q.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return f(e)},children:Object(q.jsx)("div",{className:"rating-outer",children:Object(q.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(q.jsx)("div",{className:"col-6 col-md-9",children:Object(q.jsx)("div",{className:"row",children:S&&S.map((function(e){return Object(q.jsx)(Z,{product:e,col:4},e._id)}))})})]}):S&&S.map((function(e){return Object(q.jsx)(Z,{product:e,col:3},e._id)}))})}),P<=A&&Object(q.jsx)("div",{className:"d-flex jsutify-content-center mt-5",children:Object(q.jsx)(H.a,{activePage:r,itemsCountPerPage:P,totalItemsCount:C,onChange:function(e){s(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},de="ADD_TO_CART",je="REMOVE_ITEM_CART",ue=function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(c,r){var s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.get("/api/v1/product/".concat(e));case 2:s=a.sent,n=s.data,c({type:de,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},be=function(){var e=Object(c.useState)(1),t=Object(Q.a)(e,2),a=t[0],r=t[1],s=Object(i.b)(),n=Object(o.h)(),l=Object(i.c)((function(e){return e.productDetails.product}));Object(c.useEffect)((function(){var e;s((e=n.id,function(){var t=Object(j.a)(d.a.mark((function t(a){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:re}),t.next=4,b.a.get("/api/v1/product/".concat(e));case 4:c=t.sent,r=c.data,a({type:se,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ne,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[s,n.id]);return Object(q.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(q.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(q.jsx)("img",{className:"product-detail-img",src:l.images&&l.images[0].url,alt:l.name,height:"400",width:"400"})}),Object(q.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(q.jsx)("h3",{className:"product-detail-name",children:l.name}),Object(q.jsxs)("p",{id:"product_id",children:["Product ID ",l._id]}),Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"rating-outer",children:Object(q.jsx)("div",{className:"rating-inner",style:{width:"".concat(l.ratings/5*100,"%")}})}),Object(q.jsxs)("span",{id:"no_of_reviews",children:[l.numOfReviews," Reviews"]}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{id:"product_price",children:["$",l.price]}),Object(q.jsxs)("div",{className:"stockCounter d-inline",children:[Object(q.jsx)("span",{className:"btn minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;r(t)}},children:"-"}),Object(q.jsx)("input",{type:"number",className:"form-control count d-inline",value:a,readOnly:!0}),Object(q.jsx)("span",{className:"btn plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=l.stock)){var t=e.valueAsNumber+1;r(t)}},children:"+"})]}),Object(q.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===l.stock,onClick:function(){s(ue(n.id,a))},children:"ADD TO CART"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Available Qty: ",Object(q.jsx)("span",{id:"stock_status",children:l.stock})]}),Object(q.jsx)("hr",{}),Object(q.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(q.jsx)("p",{children:l.description}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{id:"product_seller mb-3",children:["Brand: ",Object(q.jsx)("strong",{children:l.brand})]}),Object(q.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",children:"Submit Your Review"}),Object(q.jsx)("div",{className:"row mt-2 mb-5",children:Object(q.jsx)("div",{className:"rating w-50",children:Object(q.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(q.jsx)("div",{className:"modal-dialog",role:"document",children:Object(q.jsxs)("div",{className:"modal-content",children:[Object(q.jsxs)("div",{className:"modal-header",children:[Object(q.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(q.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(q.jsxs)("div",{className:"modal-body",children:[Object(q.jsxs)("ul",{className:"stars",children:[Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})}),Object(q.jsx)("li",{className:"star",children:Object(q.jsx)("i",{className:"fa fa-star"})})]}),Object(q.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3"}),Object(q.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]})},me=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cart})).cartItems,a=function(t){e(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:je,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))};return Object(q.jsx)(c.Fragment,{children:0===t.length?Object(q.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(q.jsxs)(c.Fragment,{children:[Object(q.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(q.jsxs)("b",{children:[t.length," items"]})]}),Object(q.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(q.jsxs)("div",{className:"col-12 col-lg-8",children:[t.map((function(t){return Object(q.jsxs)(c.Fragment,{children:[Object(q.jsx)("hr",{}),Object(q.jsx)("div",{className:"cart-item",children:Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-4 col-lg-3",children:Object(q.jsx)("img",{className:"cart-product-image",src:t.image,alt:t.name})}),Object(q.jsx)("div",{className:"col-5 col-lg-3",children:Object(q.jsx)(n.b,{to:"/product/".concat(t.product),children:t.name})}),Object(q.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(q.jsxs)("p",{id:"card_item_price",children:["$",t.price]})}),Object(q.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(q.jsxs)("div",{className:"stockCounter d-inline",children:[Object(q.jsx)("span",{className:"btn btn-primary minus",onClick:function(){return function(t,a){var c=a-1;c<=0||e(ue(t,c))}(t.product,t.quantity)},children:"-"}),Object(q.jsx)("input",{type:"number",className:"form-control count d-inline",value:t.quantity,readOnly:!0}),Object(q.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(t,a,c){var r=a+1;r>c||e(ue(t,r))}(t.product,t.quantity,t.stock)},children:"+"})]})}),Object(q.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(q.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return a(t.product)}})})]})},t.product)]})})),Object(q.jsx)("hr",{})]}),Object(q.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(q.jsxs)("div",{id:"order_summary",children:[Object(q.jsx)("h4",{children:"Order Summary"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("p",{children:["Subtotal:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:[t.reduce((function(e,t){return e+Number(t.quantity)}),0)," ","pcs"]})]}),Object(q.jsxs)("p",{children:["Est. total:"," ",Object(q.jsxs)("span",{className:"order-summary-values",children:["$",t.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(q.jsx)("hr",{}),Object(q.jsx)("button",{className:"btn btn-primary btn-block",children:"Check out"})]})})]})]})})},pe=function(){var e=Object(o.g)(),t=Object(c.useState)(""),a=Object(Q.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)(""),u=Object(Q.a)(l,2),h=u[0],f=u[1],x=Object(i.b)(),g=Object(i.c)((function(e){return e.auth})),v=g.isAuthenticated,y=g.error;g.loading;Object(c.useEffect)((function(){v&&e("/"),y&&(window.alert("wrong password"),x(M()))}),[x,v,y]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),x(function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(c){var r,s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:m}),r={headers:{"Content-Type":"application/json"}},a.next=5,b.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=a.sent,n=s.data,c({type:p,payload:n.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c({type:O,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(r,h))},children:[Object(q.jsx)("h1",{className:"mb-3",children:"Login"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:h,onChange:function(e){return f(e.target.value)}})]}),Object(q.jsx)(n.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(q.jsx)("button",{id:"btn_login_main",type:"submit",className:"btn btn-primary btn-block py-2",children:"LOGIN"}),Object(q.jsx)(n.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})},Oe=a(4),he=a(2),fe=function(){var e=Object(c.useState)({name:"",email:"",password:""}),t=Object(Q.a)(e,2),a=t[0],r=t[1],s=a.name,n=a.email,l=a.password,u=Object(o.g)(),m=Object(i.b)(),p=Object(i.c)((function(e){return e.auth})),O=p.isAuthenticated,g=p.error;p.loading;Object(c.useEffect)((function(){O&&u("/"),g&&m(M())}),[m,O,g]);var v=function(e){r(Object(he.a)(Object(he.a)({},a),{},Object(Oe.a)({},e.target.name,e.target.value)))};return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",s),a.set("email",n),a.set("password",l),console.log(Array.from(a)),m((t=a,function(){var e=Object(j.a)(d.a.mark((function e(a){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:h}),c={headers:{"Content-Type":"multipart/form-data"}},e.next=5,b.a.post("/api/v1/register",t,c);case 5:r=e.sent,s=r.data,a({type:f,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:x,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(q.jsx)("h1",{className:"mb-3",children:"Register"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(q.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:v})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n,onChange:v})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:l,onChange:v})]}),Object(q.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",children:"REGISTER"})]})})})},xe=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.user;e.loading;return Object(q.jsx)("div",{className:"row justify-content-around mt-5 user-info",children:Object(q.jsxs)("div",{className:"col-12 col-md-3",children:[Object(q.jsx)("h4",{children:"Name"}),Object(q.jsx)("p",{children:t&&t.name}),Object(q.jsx)("h4",{children:"Email Address"}),Object(q.jsx)("p",{children:t&&t.email}),Object(q.jsx)("h4",{children:"Member Since"}),Object(q.jsx)("p",{children:String(t&&t.createdAt).substring(0,10)}),t&&"admin"!==t.role&&Object(q.jsx)(n.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(q.jsx)(n.b,{to:"/me/update",id:"btn_edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"}),Object(q.jsx)(n.b,{to:"/password/update",id:"btn_change_password",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})})},ge=function(){var e=Object(c.useState)(""),t=Object(Q.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),n=Object(Q.a)(s,2),l=n[0],u=n[1],m=Object(o.g)(),p=Object(i.b)(),O=Object(i.c)((function(e){return e.auth})).user,h=Object(i.c)((function(e){return e.user})),f=h.isUpdated,x=h.error;h.loading;Object(c.useEffect)((function(){O&&(r(O.name),u(O.email)),x&&p(M()),f&&(p(G()),m("/me"),p({type:_}))}),[p,x,f]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",a),c.set("email",l),p((t=c,function(){var e=Object(j.a)(d.a.mark((function e(a){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:N}),c={headers:{"Content-Type":"multipart/form-data"}},e.next=5,b.a.put("/api/v1/me/update",t,c);case 5:r=e.sent,s=r.data,a({type:w,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:S,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(q.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(q.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(q.jsx)("button",{type:"submit",id:"btn_update_profile",className:"btn btn-primary btn-block mt-4 mb-3",children:"Update"})]})})})},ve=function(){var e=Object(c.useState)(""),t=Object(Q.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),n=Object(Q.a)(s,2),l=n[0],u=n[1],m=Object(o.g)(),p=Object(i.b)(),O=Object(i.c)((function(e){return e.user})),h=O.isUpdated,f=O.error;O.loading;Object(c.useEffect)((function(){f&&p(M()),h&&(m("/me"),p({type:P}))}),[p,f,h]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",a),c.set("password",l),p((t=c,function(){var e=Object(j.a)(d.a.mark((function e(a){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:E}),c={headers:{"Content-Type":"application/json"}},e.next=5,b.a.put("/api/v1/password/update",t,c);case 5:r=e.sent,s=r.data,a({type:w,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:S,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(q.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(q.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(q.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(q.jsx)("button",{type:"submit",id:"btn_update_password",className:"btn btn-primary btn-block mt-4 mb-3",children:"Update Password"})]})})})},ye=function(){var e=Object(c.useState)(""),t=Object(Q.a)(e,2),a=t[0],r=t[1],s=(Object(o.g)(),Object(i.b)()),n=Object(i.c)((function(e){return e.forgotPassword})),l=n.message,u=n.error;n.loading;Object(c.useEffect)((function(){u&&s(M()),l&&console.log("password updated succesfully")}),[s,u,l]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",children:Object(q.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",a),s(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var c,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:R}),c={headers:{"Content-Type":"application/json"}},t.next=5,b.a.post("/api/v1/password/forgot",e,c);case 5:r=t.sent,s=r.data,a({type:A,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:T,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(q.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(q.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(q.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",children:"Send Email"})]})})})},Ne=function(e){var t=e.match,a=Object(c.useState)(""),r=Object(Q.a)(a,2),s=r[0],n=r[1],l=Object(c.useState)(""),d=Object(Q.a)(l,2),j=d[0],u=d[1],b=Object(o.g)(),m=Object(i.b)(),p=Object(i.c)((function(e){return e.forgotPassword})),O=p.success,h=p.error;p.loading;Object(c.useEffect)((function(){h&&m(M()),O&&(console.log("password updated succesfully"),b("/login"))}),[m,h,O]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",onSubmit:function(e){e.preventDefault();var a=new FormData;a.set("password",s),a.set("confirmPassword",j),m(B(t.params.token,a))},children:Object(q.jsxs)("form",{className:"shadow-lg",children:[Object(q.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(q.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(q.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})},we=function(){var e=Object(o.h)(),t=Object(c.useState)(""),a=Object(Q.a)(t,2),r=a[0],s=a[1],n=Object(c.useState)(""),l=Object(Q.a)(n,2),d=l[0],j=l[1],u=Object(o.g)(),b=Object(i.b)(),m=Object(i.c)((function(e){return e.forgotPassword})),p=m.success,O=m.error;m.loading;Object(c.useEffect)((function(){O&&b(M()),p&&(console.log("password updated succesfully"),u("/login"))}),[b,O,p]);return Object(q.jsx)("div",{className:"row wrapper",children:Object(q.jsx)("div",{className:"col-10 col-lg-5",onSubmit:function(t){t.preventDefault();var a=new FormData;a.set("password",r),a.set("confirmPassword",d),b(B(e.token,a))},children:Object(q.jsxs)("form",{className:"shadow-lg",children:[Object(q.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(q.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(q.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(q.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})},_e=(a(13),a(24)),Se=a(68),Ee=a(67),Ce=a(18),Pe=Object(_e.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0,products:[]};case ae:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case ce:return{loading:!1,products:t.payload};case oe:return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(he.a)(Object(he.a)({},e),{},{loading:!0});case se:return{loading:!1,product:t.payload};case ne:return Object(he.a)(Object(he.a)({},e),{},{error:t.payload});case oe:return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case h:case g:return{loading:!0,isAuthenticated:!1};case p:case f:case v:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case U:return{loading:!1,isAuthenticated:!1,user:null};case y:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case L:return Object(he.a)(Object(he.a)({},e),{},{error:t.payload});case O:case x:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case W:return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case E:return Object(he.a)(Object(he.a)({},e),{},{loading:!0});case w:case C:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,isUpdated:t.payload});case _:case P:return Object(he.a)(Object(he.a)({},e),{},{isUpdated:!1});case S:case k:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,error:t.payload});case W:return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case D:return Object(he.a)(Object(he.a)({},e),{},{loading:!0,error:null});case A:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,message:t.payload});case I:return Object(he.a)(Object(he.a)({},e),{},{success:t.payload});case T:case F:return Object(he.a)(Object(he.a)({},e),{},{loading:!1,error:t.payload});case W:return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:var a=t.payload,c=e.cartItems.find((function(e){return e.product===a.product}));return c?Object(he.a)(Object(he.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===c.product?a:e}))}):Object(he.a)(Object(he.a)({},e),{},{cartItems:[].concat(Object(Ce.a)(e.cartItems),[a])});case je:return Object(he.a)(Object(he.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}}}),ke={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},Re=[Se.a],Ae=Object(_e.createStore)(Pe,ke,Object(Ee.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Re)));var Te=function(){return Object(c.useEffect)((function(){Ae.dispatch(G())}),[]),Object(q.jsx)(n.a,{children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(J,{}),Object(q.jsx)("div",{className:"container container-fluid",children:Object(q.jsxs)(o.d,{children:[Object(q.jsx)(o.b,{path:"/",element:Object(q.jsx)(le,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/search/:keyword",element:Object(q.jsx)(le,{})}),Object(q.jsx)(o.b,{path:"/product/:id",element:Object(q.jsx)(be,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/cart",element:Object(q.jsx)(me,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/login",element:Object(q.jsx)(pe,{})}),Object(q.jsx)(o.b,{path:"/register",element:Object(q.jsx)(fe,{})}),Object(q.jsx)(o.b,{path:"/password/forgot",element:Object(q.jsx)(ye,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/password/reset/:token",element:Object(q.jsx)(we,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/password/reset",element:Object(q.jsx)(Ne,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/me",element:Object(q.jsx)(xe,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/me/update",element:Object(q.jsx)(ge,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/password/update",element:Object(q.jsx)(ve,{}),exact:!0}),Object(q.jsx)(o.b,{path:"/password/forgot",element:Object(q.jsx)(ye,{}),exact:!0})]})}),Object(q.jsx)(Y,{})]})})};s.a.render(Object(q.jsx)(i.a,{store:Ae,children:Object(q.jsx)(Te,{})}),document.getElementById("root"))},98:function(e,t,a){}},[[171,1,2]]]);
//# sourceMappingURL=main.e16f42ba.chunk.js.map